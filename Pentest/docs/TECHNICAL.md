# Documentación Técnica - AWS Pentest Lab

## 🏗️ Estructura del Proyecto

\`\`\`
pentest/
├── src/
│   ├── components/
│   │   ├── common/
│   │   │   ├── Terminal.jsx        # Componente común para terminal
│   │   │   └── Terminal.css
│   │   ├── layout/
│   │   │   ├── Layout.jsx          # Layout principal
│   │   │   └── Layout.css
│   │   └── tools/
│   │       ├── PortScanner/
│   │       ├── SubdomainEnum/
│   │       ├── SQLInjection/
│   │       ├── XSSScanner/
│   │       ├── S3Scanner/
│   │       └── IAMAnalyzer/
│   ├── styles/
│   │   └── index.css               # Estilos globales
│   ├── App.jsx                     # Componente principal
│   └── main.jsx                    # Punto de entrada
├── public/
│   └── pentest.svg                 # Logo
├── docs/
│   ├── TECHNICAL.md                # Documentación técnica
│   └── API.md                      # Documentación de API
├── package.json
├── vite.config.js
└── README.md
\`\`\`

## 🔧 Componentes Principales

### Terminal (components/common/Terminal.jsx)
Componente reutilizable para mostrar logs y resultados.

\`\`\`jsx
<Terminal 
  logs={[
    { message: "Test message", type: "info", timestamp: "12:00:00" }
  ]} 
  onClear={() => {}} 
/>
\`\`\`

#### Props
- \`logs\`: Array de objetos con formato { message, type, timestamp }
- \`onClear\`: Función para limpiar los logs

### Layout (components/layout/Layout.jsx)
Componente que maneja la estructura principal de la aplicación.

#### Características
- Navegación entre herramientas
- Sidebar responsive
- Integración con el dashboard principal

## 🛠️ Herramientas

### 1. Port Scanner
\`\`\`jsx
// Ejemplo de uso
const [target, setTarget] = useState('');
const [portRange, setPortRange] = useState('1-1000');

// Función de escaneo
const handleScan = async () => {
  // Implementación del escaneo
};
\`\`\`

### 2. Subdomain Enumeration
\`\`\`jsx
// Ejemplo de uso
const [target, setTarget] = useState('');

// Función de enumeración
const handleScan = async () => {
  // Implementación de la enumeración
};
\`\`\`

### 3. SQL Injection Scanner
\`\`\`jsx
// Ejemplo de uso
const [target, setTarget] = useState('');
const [parameter, setParameter] = useState('');

// Función de prueba
const handleTest = async () => {
  // Implementación de las pruebas
};
\`\`\`

### 4. XSS Scanner
\`\`\`jsx
// Ejemplo de uso
const [target, setTarget] = useState('');
const [parameter, setParameter] = useState('');

// Función de prueba
const handleTest = async () => {
  // Implementación de las pruebas
};
\`\`\`

### 5. S3 Bucket Scanner
\`\`\`jsx
// Ejemplo de uso
const [target, setTarget] = useState('');
const [wordlist, setWordlist] = useState('default');

// Función de escaneo
const handleScan = async () => {
  // Implementación del escaneo
};
\`\`\`

### 6. IAM Analyzer
\`\`\`jsx
// Ejemplo de uso
const [target, setTarget] = useState('');
const [analysisType, setAnalysisType] = useState('user');

// Función de análisis
const handleAnalyze = async () => {
  // Implementación del análisis
};
\`\`\`

## 🎨 Estilos

### Variables CSS Globales
\`\`\`css
:root {
  --primary-color: #4ecdc4;
  --secondary-color: #ff6b6b;
  --bg-dark: #1a1e2c;
  --bg-darker: #151926;
  --text-color: #ffffff;
  --text-muted: rgba(255, 255, 255, 0.7);
  --border-color: rgba(255, 255, 255, 0.1);
  --card-bg: rgba(255, 255, 255, 0.05);
  --hover-bg: rgba(255, 255, 255, 0.1);
}
\`\`\`

### Clases Comunes
- \`.tool-container\`: Contenedor principal de cada herramienta
- \`.tool-header\`: Encabezado de herramienta
- \`.tool-content\`: Contenido principal
- \`.config-panel\`: Panel de configuración
- \`.form-group\`: Grupo de formulario

## 📡 Integración con AWS

### Configuración del SDK
\`\`\`javascript
import { CloudWatchClient } from "@aws-sdk/client-cloudwatch";
import { IAMClient } from "@aws-sdk/client-iam";
import { S3Client } from "@aws-sdk/client-s3";

// Configuración base
const awsConfig = {
  region: "us-west-2",
  credentials: {
    accessKeyId: "YOUR_ACCESS_KEY",
    secretAccessKey: "YOUR_SECRET_KEY",
    sessionToken: "YOUR_SESSION_TOKEN"
  }
};

// Inicialización de clientes
const cloudWatchClient = new CloudWatchClient(awsConfig);
const iamClient = new IAMClient(awsConfig);
const s3Client = new S3Client(awsConfig);
\`\`\`

## 🔄 Estado Global

### Manejo de Credenciales AWS
\`\`\`javascript
// Guardar credenciales
localStorage.setItem('awsConfig', JSON.stringify(awsConfig));

// Recuperar credenciales
const savedConfig = JSON.parse(localStorage.getItem('awsConfig'));
\`\`\`

## 🚀 Despliegue

### Construcción
\`\`\`bash
npm run build
\`\`\`

### Variables de Entorno
\`\`\`env
VITE_AWS_REGION=us-west-2
VITE_API_URL=http://localhost:3000
\`\`\`

## 🧪 Testing

### Ejecutar Tests
\`\`\`bash
npm test
\`\`\`

### Ejemplo de Test
\`\`\`javascript
import { render, screen } from '@testing-library/react';
import PortScanner from './PortScanner';

test('renders port scanner', () => {
  render(<PortScanner />);
  expect(screen.getByText('Port Scanner')).toBeInTheDocument();
});
\`\`\`

## 📦 Dependencias Principales

- \`@aws-sdk/client-ec2\`: ^3.731.0
- \`@aws-sdk/client-iam\`: ^3.731.0
- \`@aws-sdk/client-s3\`: ^3.731.0
- \`@aws-sdk/client-cloudwatch\`: ^3.731.0
- \`react\`: ^18.2.0
- \`react-icons\`: ^4.12.0
- \`recharts\`: ^2.10.4

## 🔍 Debugging

### Logs Comunes
\`\`\`javascript
// Añadir en cada herramienta
const addLog = (message, type = 'info') => {
  const timestamp = new Date().toLocaleTimeString();
  setLogs(prev => [...prev, { message, type, timestamp }]);
  console.log(`[${type.toUpperCase()}] ${message}`);
};
\`\`\`

## 🔒 Seguridad

### Buenas Prácticas
1. No almacenar credenciales en código
2. Usar variables de entorno
3. Implementar rate limiting
4. Validar inputs
5. Manejar errores apropiadamente

## 📈 Monitoreo

### CloudWatch Logs
\`\`\`javascript
const logToCloudWatch = async (logGroupName, logStreamName, message) => {
  // Implementación del logging
};
\`\`\`

## 🔄 Ciclo de Desarrollo

1. Desarrollo local (\`npm run dev\`)
2. Testing (\`npm test\`)
3. Build (\`npm run build\`)
4. Deploy

## 📚 Recursos Adicionales

- [AWS SDK Documentation](https://docs.aws.amazon.com/sdk-for-javascript/)
- [React Documentation](https://reactjs.org/docs/getting-started.html)
- [Vite Documentation](https://vitejs.dev/guide/) 